
<style>
    .backgroundbody{
        background-image: linear-gradient(315deg, #06bcfb 0%, #4884ee 74%);
        height: 100%;
        width: 100%;
        position: absolute;
        overflow: hidden;
        animation-name: changecolor;
        animation-duration: 2s;
        animation-timing-function: linear;
        background-color: #aa3333;
        background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' version='1.1' xmlns:xlink='http://www.w3.org/1999/xlink' xmlns:svgjs='http://svgjs.com/svgjs' width='1440' height='560' preserveAspectRatio='none' viewBox='0 0 1440 560'%3e%3cg mask='url(%26quot%3b%23SvgjsMask1000%26quot%3b)' fill='none'%3e%3crect width='1440' height='560' x='0' y='0' fill='%230e2a47'%3e%3c/rect%3e%3cpath d='M681.9910930686835 417.7718553464014L558.7656559978316 370.33525158306895 574.8296160295147 484.636266414097z' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float1'%3e%3c/path%3e%3cpath d='M804.1008372519583 124.34245361499231L684.6064876179329 109.67039236480035 669.9344263677409 229.16474199882578 789.4287760017663 243.83680324901772z' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float3'%3e%3c/path%3e%3cpath d='M656.668%2c739.178C706.776%2c739.508%2c744.32%2c699.876%2c770.39%2c657.083C797.895%2c611.935%2c822.556%2c556.689%2c795.521%2c511.259C768.837%2c466.42%2c708.677%2c461.787%2c656.668%2c465.986C612.769%2c469.53%2c574.159%2c492.934%2c551.886%2c530.929C529.331%2c569.404%2c525.466%2c615.761%2c545.512%2c655.601C567.844%2c699.984%2c606.984%2c738.851%2c656.668%2c739.178' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float3'%3e%3c/path%3e%3cpath d='M194.31678748070797 161.92246777011945L210.3158288790833 106.12717970981656 118.62337608944131 110.02626164240499z' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float2'%3e%3c/path%3e%3cpath d='M36.075709577672384 447.4255067729995L77.83746022823715 529.3875573280844 118.03776013275731 405.66375612243473z' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float2'%3e%3c/path%3e%3cpath d='M1474.5043212322046 91.16230981385894L1393.3818458487046 23.092470639376245 1325.3120066742222 104.21494602287608 1406.4344820577219 172.28478519735876z' fill='rgba(28%2c 83%2c 142%2c 0.4)' class='triangle-float2'%3e%3c/path%3e%3c/g%3e%3cdefs%3e%3cmask id='SvgjsMask1000'%3e%3crect width='1440' height='560' fill='white'%3e%3c/rect%3e%3c/mask%3e%3cstyle%3e %40keyframes float1 %7b 0%25%7btransform: translate(0%2c 0)%7d 50%25%7btransform: translate(-10px%2c 0)%7d 100%25%7btransform: translate(0%2c 0)%7d %7d .triangle-float1 %7b animation: float1 5s infinite%3b %7d %40keyframes float2 %7b 0%25%7btransform: translate(0%2c 0)%7d 50%25%7btransform: translate(-5px%2c -5px)%7d 100%25%7btransform: translate(0%2c 0)%7d %7d .triangle-float2 %7b animation: float2 4s infinite%3b %7d %40keyframes float3 %7b 0%25%7btransform: translate(0%2c 0)%7d 50%25%7btransform: translate(0%2c -10px)%7d 100%25%7btransform: translate(0%2c 0)%7d %7d .triangle-float3 %7b animation: float3 6s infinite%3b %7d %3c/style%3e%3c/defs%3e%3c/svg%3e");
    }

    .formcss{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        background-color: white;
        border-radius: 10px;
        box-shadow: rgba(0, 0, 0, 0.02) 0px 1px 3px 0px, rgba(27, 31, 35, 0.15) 0px 0px 0px 1px;
        padding: 20px;
        height: auto;
        display: flex;
        flex-direction: column;
        width: 600px;
        align-items: center;
    }
    input{
        outline: none;
        background-color: transparent;
        border:1px solid rgb(241, 241, 241);
        border-radius: 10px;
        width: 400px;
        height: 46px;
        margin: 15px 0;
        text-indent: 10px;
        transition: 0.5s;
    }
    input:focus {
        border:1px solid #06bcfb

    }
    input:valid{
        border:1px solid #06bcfb
    }
    h1{
        width: 100%;
        text-align: center;
        color: #009ffd;
        font-weight: bold;
        font-size: 2.5rem;
    }
    button{
        width: 400px;
        height: 50px;
        box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;
        outline: none;
        font-family: sans-serif;
        border:none;
        transition: 0.5s;
        font-weight: bold;
        background-color: #E6AF2E;
        color: white;
        letter-spacing: 1.5px;
        margin-top: 20px;
        text-transform: uppercase;
        margin-bottom: 20px;

    }
    button:hover{
        cursor: pointer;
        background-color: #f8ae00;
    }
    #alert{
        position: absolute;
        top: -50px;
        background-color: white;
        box-shadow: rgba(0, 0, 0, 0.25) 0px 0.0625em 0.0625em, rgba(0, 0, 0, 0.25) 0px 0.125em 0.5em, rgba(255, 255, 255, 0.1) 0px 0px 0px 1px inset;
        border-radius: 10px;
        left:50%;
        transform: translateX(-50%);
        padding: 10px;
        animation-name: down;
        min-width: 300px;
        animation-duration: 1.5s;
        animation-fill-mode: forwards;
        display: none;
    }
    @keyframes down {
  from {top: -50px;}
  to {top: 50px;}
}
    #alert p {
        position: relative;
        font-size: 1.0rem;
        font-family: sans-serif;
        letter-spacing: 1.2px;
        line-height: 2px;
        margin-top: 20px;
        margin-left: 10px;

    }
    #alert h1{
        margin: 10px;
        text-align: left;
        font-size: 1.5rem;
    }
</style>
<!DOCTYPE html>
<html lang="en">
    <head>
        <title>
            reset password
        </title>
    </head>
    <body class="backgroundbody">
        <form class="formcss">
            <h1>reset password</h1>
            <input type="password"  id="password" placeholder="password" name="password"  required/>
            <input type="password"  id="confirmpassword" placeholder="confirmpassword" name="confrimpassword" required/>
            <button type="click" onclick="changepassword()">reset Password</button>
        </form>
        <div id="alert">
            
        </div>
    </body>
</html>
<script>
    const changepassword=(e)=>{
        event.preventDefault();
        const password=document.getElementById("password").value
        const confirm=document.getElementById("confirmpassword").value
        const alertPopUp=document.getElementById("alert")
        if(password!=confirm){
            alertPopUp.innerHTML="<h1 style='color:#b94442'>warning </h1><p>passwords are not the same</p>"
            alertPopUp.style.display = "block"
            setTimeout(()=>{
                alertPopUp.style.display = "none"
            },3000)
            
        }else{
            fetch('http://127.0.0.1:5010/forgetpassword/restartPassword', {
            method: 'POST', // or 'PUT'
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({token:window.location.href.slice(window.location.href.indexOf("token=")+6,window.location.href.length),password:password}),
            })
            .then(response => response.json())
            .then(data => {
            alertPopUp.innerHTML="<h1 style='color:#3c763d'>Success </h1><p>password changed successfully</p>"
            alertPopUp.style.display = "block"
            setTimeout(()=>{
                alertPopUp.style.display = "none"
            },3000)  
            })
            .catch((error) => {
                
            alertPopUp.innerHTML=`<h1 style='color:#b94442'>warning </h1><p>${error}</p>`
            alertPopUp.style.display = "block"
            setTimeout(()=>{
                alertPopUp.style.display = "none"
            },3000)
           
            });
        }
    }
</script>